@model IEnumerable<ReservationViewModel>
@{
    ViewData["Title"] = "Réservations";
}

<div class="container mt-4">
    <h2 class="mb-4">Liste des Réservations</h2>

    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>Espace</th>
                <th>Date de début</th>
                <th>Date de fin</th>
                <th>Statut</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var reservation in Model)
            {
                <tr>
                    <td>@reservation.Space.Name</td>
                    <td>@reservation.StartDate.ToString("dd/MM/yyyy HH:mm")</td>
                    <td>@reservation.EndDate.ToString("dd/MM/yyyy HH:mm")</td>
                    <td>
                        @if (reservation.Status != null)
                        {
                            <span class="badge 
                                @(reservation.Status == "PENDING" ? "bg-warning text-dark" : 
                                  reservation.Status == "APPROVED" ? "bg-success" : 
                                  reservation.Status == "REJECTED" ? "bg-danger" : "bg-secondary")">
                                @reservation.Status
                            </span>
                        }
                        else
                        {
                            <span class="badge bg-secondary">Non défini</span>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<script>
    // Récupérer les données du modèle en JSON
    const reservations = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model));

    // Afficher les données dans la console
    console.log("Réservations :", reservations);
</script>

